<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hello GSAP Tweens</title>

    <style type="text/css" media="screen">
      #sb {
        position: absolute;
        top: 500px;
        left: 0;
      }
    </style>
  </head>
  <body>
    <!-- Kick the soccer ball -->
    <img src="./img/soccer-ball.png" id="sb" />

    <!-- 5 basketballs to bounce -->
    <img src="./img/basket-ball.png" class="bball" />
    <img src="./img/basket-ball.png" class="bball" />
    <img src="./img/basket-ball.png" class="bball" />
    <img src="./img/basket-ball.png" class="bball" />
    <img src="./img/basket-ball.png" class="bball" />

    <!-- Load GSAP core library at the bottom of our body tag -->
    <!--
      Older free without subscription versions
      https://github.com/greensock/GSAP
    -->

    <!-- Load in GSAP script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>

    <!-- Our Script using GSAP Library Functions -->
    <script type="text/javascript">
      // grab and store our soccer ball in js so we can 'kick it'
      // const sb = document.getElementById("sb");
      // another way to do this which is similar to how green sock selects elements
      const sb = document.querySelector("#sb");

      // use GSAP (green sock animation platform) tween class to animate the soccer ball's position
      // rotate and scale the soccer ball over time
      // remember when we use gsap.to() or gsap.from() without any other GSAP code,
      // all animations will want to fire as soon as the page loads
      // 3 args: thing to animate, time to animate, properties to animate
      // gsap.to({elementToAnimate}, {optionalDurationOfAnimation}, {optionsObjectWith CSS properties to change})
      gsap.to(sb, 2, {
        // duration: 5,
        x: 1000, // to the right
        y: -500, // back up 500px
        rotation: 720, // rotate 720 degrees
        scale: 0.5, // decrease size
        delay: 1, // prevents animation from happening right as the page loads
        ease: "elastic.out",
      });

      // 3 second total animation time

      // use QuerySelector inline to select all of the images with class .bball
      gsap.to(".bball", 1, {
        y: 500,
        rotation: 360,
        delay: 3,
        ease: "bounce.out",
        stagger: {
          each: 0.5, // stagger each .bball element by 0.5s
        },
      });

      // we can also tell green sock to fire a callback function
      // const imDone = () => {}
      function imDone() {
        alert("I'm done.");
      }

      // array of selectors in first argument
      gsap.to("#sb, .bball", 5, {
        opacity: 0,
        delay: 10,
        onComplete: imDone,
      });
    </script>
  </body>
</html>
